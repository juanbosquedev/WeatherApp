{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Usuario/myweather/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Usuario/myweather/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{Route,Switch}from\"react-router-dom\";import{BrowserRouter as Router}from\"react-router-dom\";import Home from\"../containers/Home\";import About from\"./About\";import Landing from\"./Landing\";import Nav from\"./Nav\";import Details from\"./Details\";import WeatherApp from\"./WeatherApp\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),city=_useState4[0],setCity=_useState4[1];if(city.length===4){var citi=city.slice(1,4);setCity(citi);}function deleting(id){return setCity(city.filter(function(city){return city.id!==id;}));}function filtering(id){return city.find(function(city){return city.id===parseInt(id.slice(1));});}useEffect(function(){function searching(){var apiKey=process.env.REACT_APP_API_KEY;fetch(\"http://api.openweathermap.org/data/2.5/weather?q=\".concat(state,\"&appid=\").concat(apiKey)).then(function(r){return r.json();}).then(function(recurso){if(recurso.name)return setCity([].concat(_toConsumableArray(city),[recurso]));else{alert(\"city not found\");}}).catch(function(msg){return setState(msg.message);});}if(state!==null)searching(state);},[state]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",component:Landing}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav,{setState:setState}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/home\",render:function render(){return/*#__PURE__*/_jsx(Home,{city:city,deleting:deleting});}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/about\",component:About}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/Weather-App\",component:WeatherApp}),/*#__PURE__*/_jsx(Route,{path:\"/details/:id\",component:function component(_ref){var match=_ref.match;return/*#__PURE__*/_jsx(Details,{city:filtering(match.params.id)});}})]})]})})});}export default App;","map":{"version":3,"names":["useEffect","useState","Route","Switch","BrowserRouter","Router","Home","About","Landing","Nav","Details","WeatherApp","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","state","setState","_useState3","_useState4","city","setCity","length","citi","slice","deleting","id","filter","filtering","find","parseInt","searching","apiKey","process","env","REACT_APP_API_KEY","fetch","concat","then","r","json","recurso","name","_toConsumableArray","alert","catch","msg","message","children","exact","path","component","render","_ref","match","params"],"sources":["C:/Users/Usuario/myweather/src/components/App.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport Home from \"../containers/Home\";\r\nimport About from \"./About\";\r\nimport Landing from \"./Landing\";\r\nimport Nav from \"./Nav\";\r\nimport Details from \"./Details\";\r\nimport WeatherApp from \"./WeatherApp\";\r\n\r\nfunction App() {\r\n  const [state, setState] = useState(null);\r\n  const [city, setCity] = useState([]);\r\n  if (city.length === 4) {\r\n    let citi = city.slice(1, 4);\r\n    setCity(citi);\r\n  }\r\n\r\n  function deleting(id) {\r\n    return setCity(city.filter((city) => city.id !== id));\r\n  }\r\n\r\n\r\n  function filtering(id) {\r\n    return city.find((city) => city.id === parseInt(id.slice(1)));\r\n  }\r\n  useEffect(() => {\r\n    function searching() {\r\n      let apiKey = process.env.REACT_APP_API_KEY;\r\n      fetch(\r\n        `http://api.openweathermap.org/data/2.5/weather?q=${state}&appid=${apiKey}`\r\n      )\r\n        .then((r) => r.json())\r\n        .then((recurso) => {\r\n          if (recurso.name) return setCity([...city, recurso]);\r\n          else {\r\n            alert(\"city not found\");\r\n          }\r\n        })\r\n        .catch((msg) => setState(msg.message));\r\n    }\r\n    if (state !== null) searching(state);\r\n  }, [state]);\r\n\r\n  return (\r\n    <>\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Landing}></Route>\r\n          <>\r\n            <Nav setState={setState} />\r\n            <Route\r\n              exact\r\n              path=\"/home\"\r\n              render={() => <Home city={city} deleting={deleting} />}\r\n            ></Route>\r\n\r\n            <Route exact path=\"/about\" component={About}></Route>\r\n            <Route exact path=\"/Weather-App\" component={WeatherApp}></Route>\r\n            <Route\r\n              path={`/details/:id`}\r\n              component={({ match }) => (\r\n                <Details city={filtering(match.params.id)} />\r\n              )}\r\n            ></Route>\r\n          </>\r\n        </Switch>\r\n      </Router>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}